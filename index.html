<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Feliz San Valent√≠n ‚ù§Ô∏è</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Merriweather&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap');

    body {
      background-color: #ffe4e1;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      font-family: 'Merriweather', serif;
      overflow: hidden;
      position: relative;
    }

    /* Flechas de navegaci√≥n */
    .nav-arrow {
      position: absolute;
      bottom: 2vh;
      width: 2vw;
      height: 2vw;
      min-width: 15px;
      min-height: 15px;
      background: transparent;
      border: 0.2vw solid #d94f4f;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      transition: background 0.3s ease, transform 0.3s ease;
    }

    .nav-arrow::before {
      content: '';
      display: inline-block;
      width: 1vw;
      height: 1vw;
      min-width: 5px;
      min-height: 5px;
      border-top: 0.2vw solid #d94f4f;
      border-right: 0.2vw solid #d94f4f;
      transform: rotate(45deg);
    }

    .nav-arrow.left {
      left: 1vw;
    }

    .nav-arrow.left::before {
      transform: rotate(-135deg);
    }

    .nav-arrow.right {
      right: 1vw;
    }

    .nav-arrow:hover {
      background: #d94f4f;
      transform: scale(1.1);
    }

    .nav-arrow:hover::before {
      border-color: white;
    }

    /* Sobre (envelope) */
    .envelope {
      position: relative;
      width: 40vw;
      max-width: 300px;
      height: calc(40vw * 0.667); /* Relaci√≥n 300x200 */
      max-height: 200px;
      background: #ff6b6b;
      border: 0.2vw solid #d94f4f;
      box-shadow: 0 2vw 3vw rgba(0,0,0,0.3);
      cursor: pointer;
      transition: transform 0.3s ease;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 2;
    }

    .envelope .flap {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #ff8787;
      clip-path: polygon(0 0, 100% 0, 50% 50%);
      z-index: 3;
    }

    .envelope.open .flap {
      transform: rotate(180deg);
      top: -101.25%;
    }

    /* Carta (letter) */
    .letter {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      width: 70vw;
      max-width: 475px;
      background: linear-gradient(145deg, #fffdf7, #f8f4e3);
      padding: clamp(20px, 4vw, 30px);
      border: 0.1vw solid #ddd;
      box-shadow: 0 1vw 3vw rgba(0,0,0,0.4);
      transition: transform 1s ease;
      z-index: 4;
    }

    .letter.open {
      transform: translate(-50%, -50%) scale(1);
    }

    .letter h2 {
      font-family: 'Great Vibes', cursive;
      font-size: 2em;
      color: #d94f4f;
      text-align: center;
      margin: 0 0 1em;
    }

    .page {
      display: none;
      font-size: 1em;
      line-height: 1.6;
      text-align: justify;
    }

    .page.active {
      display: block;
    }

    /* Controles de p√°gina y contador */
    /* (Se reusa la clase .nav-arrow para las flechas, ya definidas arriba) */

    .page-counter {
      text-align: center;
      font-size: clamp(12px, 1.5vw, 14px);
      color: #333;
      margin-top: clamp(5px, 1vw, 10px);
    }

    /* Fotos decorativas */
    .photo {
      position: absolute;
      background: white;
      box-shadow: 0 1vw 2vw rgba(0,0,0,0.3);
      border: clamp(5px, 1vw, 10px) solid white;
      padding: clamp(5px, 0.5vw, 10px) clamp(5px, 0.5vw, 10px) clamp(20px, 2vw, 20px) clamp(5px, 0.5vw, 10px);
      opacity: 0;
      transition: transform 0.5s ease, opacity 0.5s ease;
      z-index: 1;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .photo img {
      height: 28vh;
      width: auto;
      max-width: 100%;
      max-height: 100%;
    }

    /* Texto inicial */
    #openText {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: clamp(30px, 5vw, 44px);
      color: #d94f4f;
      font-family: 'Great Vibes', cursive;
      font-weight: bold;
      transition: opacity 0.5s ease;
      z-index: 5;
    }

    #openText.fade-out {
      opacity: 0;
    }
  </style>
</head>
<body>
  <div id="openText">√Åbreme</div>

  <div class="envelope" id="envelope">
    <div class="flap" id="flap"></div>
    <div class="flap" id="interior"></div>
  </div>

  <div class="letter" id="letter">
    <h2>üíå  Feliz San Valent√≠n  üíå</h2>
    <div class="page active" id="page1">
      <p>¬°No te esperabas esto eh! <br><br>
         Ya que el a√±o pasado hice lo que ha sido hasta ahora el tr√°iler de Netflix de nuestra relaci√≥n y como a una no le gusta ser repetitiva‚Ä¶ quer√≠a hacer algo distinto para este a√±o, que te sorprendiese y con un poquito de ayuda extraaaaa‚Ä¶ Pues aqu√≠ est√° esta felicitaci√≥n de San Valent√≠n tan rechulona jejeje.<br><br>
         Ya son cinco 14 de febrero que pasamos juntos y no te quiero ni decir los muchos que nos quedan a√∫n por vivir. Y es posible que todo lo que vaya a decirte en esta felicitaci√≥n te lo haya dicho ya mil veces (pero en esto no me importa ser repetitiva).
      </p>
    </div>
    <div class="page" id="page2">
      <p>La vida nos ha puesto muchos obst√°culos en el camino, que de mejor o peor forma hemos sabido esquivar y aprender de ellos para no volver a caernos. Tropezarme con esos baches no me preocupa, porque para m√≠ lo importante es que luego a la hora de levantarnos y motivarnos para seguir, lo hacemos juntos. Siento que ese es uno de los grandes pilares de nuestra relaci√≥n, ese apoyo incondicional el uno por el otro. Y habl√°bamos recientemente (con esa cervecita en el Numancia), de las cosas que nos gustan y valoramos el uno del otro, y ambos coincid√≠amos en esa la primera.
      </p>
    </div>
    <div class="page" id="page3">
      <p>Ahora viene la parte de los agradecimientos, ag√°rrate que vienen curvas y aqu√≠ me voy a explayar jajajaja.<br><br>
         Gracias, por amarme tal y como soy, con este hurac√°n de emociones que me desborda en ciertas ocasiones, pero que t√∫ consigues transformar en una simple brisa con unas pocas palabras. <br><br>
         Gracias, por la sinceridad y la confianza que nos tenemos. De ello seguimos aprendiendo o al menos unas cuantas lecciones nos conocemos, pero seguimos queriendo hacer por conocer y entender al otro.
         <br><br>
         Gracias, por sanar muchas cosas que t√∫ no hab√≠as roto y que ven√≠an un poco defectuosas de f√°brica cuando me conociste. Y como ya te dije en otra ocasi√≥n, puede que el esfuerzo por cambiarlas recaiga √∫nicamente en m√≠, pero es tu hombro sobre el que lloro para desahogarme y son tus brazos los que me levantan cuando me derrumbo.
      </p>
    </div>
    <div class="page" id="page4">
      <p>Gracias, por esas risas que nos echamos hasta que nos duelen las mejillas de tanto sonre√≠r, todas esas an√©cdotas e historias que solo nosotros entendemos.<br><br>
         Gracias, por absolutamente todo. Y yo agradecida de que todo el amor que ten√≠a entre mis manos y que quer√≠a dar a una persona especial haya merecido tanto la pena, porque no pierdo amor al d√°rtelo todo, sino que siento que se multiplica junto con todo el amor que t√∫ me das a m√≠ tambi√©n.
         <br><br>Feliz San Valent√≠n mi amor.
         <br><br>Te quiero, te adoro, te necesito, te amo, te todo. ‚ù§Ô∏è <br><br>
      </p>
    </div>

    <button class="nav-arrow left" onclick="prevPage()"></button>
    <button class="nav-arrow right" onclick="nextPage()"></button>

    <div class="page-counter" id="pageCounter">1 / 4</div>
  </div>

  <!-- Fotos decorativas -->
  <div class="photo" style="top: 10%; left: 15%; transform: rotate(-10deg);">
    <img src="imagen1.jpg" alt="Foto 1">
  </div>
  <div class="photo" style="top: 10%; right: 15%; transform: rotate(12deg);">
    <img src="imagen2.jpg" alt="Foto 2">
  </div>
  <div class="photo" style="top: 35%; left: 2%; transform: rotate(-15deg);">
    <img src="imagen3.jpg" alt="Foto 3">
  </div>
  <div class="photo" style="top: 40%; right: 5%; transform: rotate(8deg);">
    <img src="imagen4.jpg" alt="Foto 4">
  </div>
  <div class="photo" style="bottom: 10%; left: 15%; transform: rotate(-25deg);">
    <img src="imagen5.jpg" alt="Foto 5">
  </div>
  <div class="photo" style="bottom: 10%; right: 15%; transform: rotate(10deg);">
    <img src="imagen6.jpg" alt="Foto 6">
  </div>
  <div class="photo" style="bottom: 35%; left: 28%; transform: rotate(-8deg);">
    <img src="imagen7.jpg" alt="Foto 7">
  </div>
  <div class="photo" style="bottom: 50%; right: 25%; transform: rotate(6deg);">
    <img src="imagen8.jpg" alt="Foto 8">
  </div>

  <script>
    let currentPage = 1;
    const totalPages = document.querySelectorAll('.page').length;

    document.getElementById('envelope').addEventListener('click', openEnvelope);

    function openEnvelope() {
      const envelope = document.getElementById('envelope');
      const flap = document.getElementById('flap');
      const letter = document.getElementById('letter');
      const photos = document.querySelectorAll('.photo');
      const openText = document.getElementById('openText');

      openText.classList.add('fade-out');

      setTimeout(() => {
        openText.style.display = 'none';

        envelope.classList.add('open');
        flap.classList.add('open');

        photos.forEach((photo, index) => {
          setTimeout(() => {
            photo.style.opacity = 1;
            // Se ha cambiado la traslaci√≥n de p√≠xeles a unidades vw/vh para escalar en funci√≥n del dispositivo
            photo.style.transform = `translate(${(index % 2 === 0 ? -1 : 1) * 5}vw, ${(index - 2) * 3}vh) rotate(${(index % 2 === 0 ? -10 : 10)}deg)`;
          }, index * 300);
        });

        setTimeout(() => {
          letter.classList.add('open');
        }, photos.length * 300 + 500);

      }, 500);
    }

    function updatePage() {
      document.querySelectorAll('.page').forEach((page, index) => {
        page.classList.toggle('active', index === currentPage - 1);
      });
      document.getElementById('pageCounter').innerText = `${currentPage} / ${totalPages}`;
    }

    function nextPage() {
      if (currentPage < totalPages) {
        currentPage++;
        updatePage();
      }
    }

    function prevPage() {
      if (currentPage > 1) {
        currentPage--;
        updatePage();
      }
    }
  </script>
</body>
</html>
